
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=GB2312">
   
<meta http-equiv="Content-Type" content="text/html; charset=GB2312">
<meta name="copyright" content="(C) 版权 2005">
<meta name="DC.rights.owner" content="(C) 版权 2005">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ip route-static vpn-instance">
<meta name="DC.Relation" scheme="URI" content="../vrp/static_route_configuration_commands.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/bgp_mpls_ip_vpn_configuration_commands.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ip_route-static_vpn-instance">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/ExpandCollapse.js"></script><title>ip route-static vpn-instance</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="ip_route-static_vpn-instance"></a><a name="ip_route-static_vpn-instance"></a>


<h1 class="topictitle1">ip route-static vpn-instance</h1>

<div>
<div class="clifunc"><h2 class="sectiontitle">命令功能</h2>
<div class="clifuncbody"><p><strong>ip route-static vpn-instance</strong>命令用来为VPN实例配置静态路由。</p>
<p><strong>undo ip route-static vpn-instance</strong>命令用来删除为VPN实例配置的静态路由。</p>
<p>缺省情况下，系统没有为VPN实例配置静态路由。</p>
</div></div>

<div class="cliformat"><h2 class="sectiontitle">命令格式</h2>
<div class="cliformatbody"><p><strong>ip route-static vpn-instance</strong> <em>vpn-source-name destination-address</em> { <em>mask</em> | <em>mask-length</em> } <em>interface-type interface-number</em> [ <em>nexthop-address</em> ] [ <strong>preference</strong> <em>preference</em> ] [ <strong>tag</strong> <em>tag</em> ] <span> [ <strong>track</strong> { <strong>bfd-session</strong> <em>cfg-name</em> | <strong>efm-state</strong> <em>interface-type</em> <em>interface-number</em> } ]</span>[ <strong>description</strong> <em>text</em> ]</p>
<p><strong>ip route-static vpn-instance</strong> <em>vpn-source-name destination-address</em> { <em>mask</em> | <em>mask-length</em> } <strong>vpn-instance</strong> <em>vpn-destination-name nexthop-address</em> [ <strong>preference</strong> <em>preference</em> ] [ <strong>tag</strong> <em>tag</em> ] <span> [ <strong>track</strong> { <strong>bfd-session</strong> <em>cfg-name</em> | <strong>efm-state</strong> <em>interface-type</em> <em>interface-number</em> } ]</span> [<strong> description</strong> <em>text</em> ]</p>
<p><strong>ip route-static vpn-instance</strong> <em>vpn-source-name destination-address</em> { <em>mask</em> | <em>mask-length</em> } <em>nexthop-address</em> [ <strong>public</strong> ] [ <strong>preference</strong> <em>preference</em> ] [ <strong>tag</strong> <em>tag</em> ] <span> [ <strong>track</strong> { <strong>bfd-session</strong> <em>cfg-name</em> | <strong>efm-state</strong> <em>interface-type</em> <em>interface-number</em> } ]</span>[ <strong>description</strong> <em>text</em> ]</p>
<p><strong>undo ip route-static vpn-instance</strong> <em>vpn-source-name destination-address</em> { <em>mask</em> | <em>mask-length</em> } [ <em>interface-type interface-number</em> [ <em>nexthop-address</em> ] | <strong>vpn-instance</strong> <em>vpn-destination-name nexthop-address</em> | <em>nexthop-address</em> [ <strong>public</strong> ] ] [ <strong>preference</strong> <em>preference</em> ] [ <strong>tag</strong> <em>tag</em> ] <span> [ <strong>track</strong> { <strong>bfd-session</strong> | <strong>efm-state</strong> } ]</span></p>
<p><strong>undo ip route-static vpn-instance</strong> <em>vpn-source-name</em> <strong>all</strong></p>
</div></div>

<div class="cliparam"><h2 class="sectiontitle">参数说明</h2>
<div class="cliparambody"><p><strong>vpn-instance</strong> <em>vpn-source-name</em>：指定源VPN实例的名称。每个VPN实例都有自己的路由表，配置的静态路由将被加入指定VPN实例的路由表。</p>
<p><em>destination-address</em>：静态路由的目的地址。</p>
<p><em>mask</em>：子网掩码。点分十进制格式。</p>
<p><em>mask-length</em>：掩码长度。整数形式，取值范围是0～32。</p>
<p><em>interface-type
interface-number</em>：指定静态路由的出接口类型和接口编号。</p>
<p><strong>vpn-instance</strong> <em>vpn-destination-name</em>：目的VPN实例的名称。如果指定目的VPN实例的名称，静态路由将根据配置的nexthop-address在目的VPN实例中查找出接口。</p>
<p><em>nexthop-address</em>：指定静态路由的下一跳地址。</p>
<p><strong>public</strong>：此参数表示指定的nexthop-address是公网地址，不是源VPN实例地址。</p>
<p><strong>preference</strong> <em>preference</em>：指定静态路由的优先级。整数形式，取值范围是1～255。</p>
<p><strong>tag</strong> <em>tag</em>：指定静态路由的tag属性值。整数形式，取值范围是1～4294967295。缺省值是0。配置不同的tag属性值，可对静态路由进行分类，以实现不同的路由管理策略。例如，其它协议引入静态路由时，可通过路由策略引入具有特定tag属性值的路由</p>
<p><strong>track bfd-session</strong> <em>cfg-name</em>：为静态路由绑定BFD会话。 配置<strong>track bfd-session</strong>参数，BFD会话检测链路状态，并为静态路由提供检测机制。</p>
<p><strong>efm-state</strong> <em>interface-type</em> <em>interface-number</em>：检测指定接口的EFM OAM状态。</p>
<p><strong>description</strong> <em>text</em>：静态路由的描述信息。字符串形式，支持空格，取值范围是1～19。配置<strong>description</strong>参数，可为静态路由增加描述信息，方便管理员查看和维护静态路由。</p>
<p><strong>all</strong>：删除VPN实例的所有静态路由。</p>
</div></div>

<div class="cliview"><h2 class="sectiontitle">视图</h2>
<div class="cliviewbody"><p>系统视图</p>
</div></div>

<div class="clidefaultlevel"><h2 class="sectiontitle">缺省级别</h2>
<div class="clidefaultlevelbody"><p>2：配置级</p>
</div></div>

<div class="clidesc"><h2 class="sectiontitle">使用指南</h2>
<div class="clidescbody"><p>在为VPN实例配置静态路由时，下一跳地址nexthop-address可以属于VPN实例，也可以属于公网。</p>
<p>如果出接口类型为广播类型，则必须指定下一跳地址。</p>
</div></div>

<div class="dropdowncollapse"><div class="dropdowntitle" onclick="ExpandorCollapseNode(this)"><a name="ip_route-static_vpn-instance__d84649e363"></a><a name="d84649e363"></a><h2 class="sectiontitle">使用实例</h2></div>
<div class="dropdowncontext"><div class="cliexamplebody"><p># 为名为vpn1的VPN实例配置一条静态路由，的目的地址为100.1.1.1/16，下一跳地址为此VPN实例的地址1.1.1.2。</p>
<pre class="screen">&lt;Quidway&gt; <strong>system-view</strong></pre>
<pre class="screen">[Quidway] <strong>ip route-static vpn-instance vpn1 100.1.1.1 16 vpn-instance vpn1 1.1.1.2</strong></pre>
</div></div></div>

<div class="clihistory"><h2 class="sectiontitle">历史记录</h2>
<div class="clihistorybody">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="50%" id="d84649e386"><p>版本</p>
</th>

<th class="cellrowborder" valign="top" width="50%" id="d84649e390"><p>修订内容</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="50%" headers="d84649e386 "><p>VRPV500R006C02B010</p>
</td>

<td class="cellrowborder" valign="top" width="50%" headers="d84649e390 "><p>新增<strong>efm-state</strong>参数</p>
</td>

</tr>


</tbody>

</table>
</div>
</div></div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="../vrp/static_route_configuration_commands.html">静态路由配置命令</a></div>
</div>

<div class="familylinks">
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">华为所有和机密</div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div></body>
</html>