
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=GB2312">
   
<meta http-equiv="Content-Type" content="text/html; charset=GB2312">
<meta name="copyright" content="(C) 版权 2005">
<meta name="DC.rights.owner" content="(C) 版权 2005">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="filter-policy export (BGP)">
<meta name="DC.Relation" scheme="URI" content="../vrp/bgp_configuration_commands.html">
<meta name="DC.Relation" scheme="URI" content="import-route_bgp.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="filter-policy_export_bgp">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/ExpandCollapse.js"></script><title>filter-policy export (BGP)</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="filter-policy_export_bgp"></a><a name="filter-policy_export_bgp"></a>


<h1 class="topictitle1">filter-policy export (BGP)</h1>

<div>
<div class="clifunc"><h2 class="sectiontitle">命令功能</h2>
<div class="clifuncbody"><p><strong>filter-policy export</strong>命令用来配置对发布的路由进行过滤，只有通过过滤的路由才被BGP发布。</p>
<p><strong>undo filter-policy export</strong>命令用来取消对发布的路由进行过滤。</p>
<p>缺省情况下，不对发布的路由信息进行过滤。</p>
</div></div>

<div class="cliformat"><h2 class="sectiontitle">命令格式</h2>
<div class="cliformatbody"><p><strong>filter-policy</strong> { <em>acl-number</em> | <strong>ip-prefix</strong> <em>ip-prefix-name</em> } <strong>export</strong> [ <em>protocol</em> [ <em>process-id</em> ] ]</p>
<p><strong>filter-policy</strong> {<em> acl6-number</em> | <strong>ipv6-prefix</strong> <em>ipv6-prefix-name</em> } <strong>export</strong> [ <em>protocol</em> [ <em>process-id</em> ] ]</p>
<p><strong>undo filter-policy export</strong> [ <em>protocol</em> [ <em>process-id</em> ]
]</p>
</div></div>

<div class="cliparam"><h2 class="sectiontitle">参数说明</h2>
<div class="cliparambody"><p><em>acl-number</em>：基本ACL的编号。</p>
<p><strong>ip-prefix</strong> <em>ip-prefix-name</em>：IPv4地址前缀列表名。</p>
<p><em>protocol</em>：路由协议名称。其中IPv4支持<strong>direct</strong>、<strong>isis</strong>、<strong>ospf</strong>、<strong>rip</strong>和<strong>static</strong>，IPv6单播<strong>direct</strong>、<strong>isis</strong>、<strong>ospfv3</strong>、<strong>ripng</strong>和<strong>static</strong>，VPNv6和VPN6实例支持<strong>direct</strong>、<strong>isis</strong>、<strong>ripng</strong>和<strong>static</strong>。</p>
<p><em>proscess-id</em>：指定需要进行匹配的进程号。整数形式，取值范围1～65535。<strong>direct</strong>和<strong>static</strong>不需要指定进程号。</p>
<p><em>acl6-number</em>：基本ACL6的编号。</p>
<p><strong>ipv6-prefix</strong> <em>ipv6-prefix-name</em>：IPv6地址前缀列表名。</p>
<div class="note"><img src="../public_sys-resources/icon-note.gif"><span class="notetitle"> 说明： </span><div class="notebody"><ul>
<li><p><em>acl-number</em>和<em>ip-prefix-name</em>参数仅在BGP视图、BGP-IPv4单播地址族视图、BGP-VPN实例视图和BGP-VPNv4地址族视图下生效。</p>
</li>
<li><p><em>acl6-number</em>和<em>ipv6-prefix-name</em>参数仅在BGP-IPv6单播地址族视图、BGP-VPNv6地址族视图和BGP-VPN6实例视图下生效。</p>
</li>
</ul>
</div></div>
</div></div>

<div class="cliview"><h2 class="sectiontitle">视图</h2>
<div class="cliviewbody"><p>BGP视图、BGP-IPv4单播地址族视图、BGP-VPN实例视图、BGP-VPNv4地址族视图、BGP-IPv6单播地址族视图、BGP-VPNv6地址族视图、BGP-VPN6实例视图</p>
</div></div>

<div class="clidefaultlevel"><h2 class="sectiontitle">缺省级别</h2>
<div class="clidefaultlevelbody"><p>2：配置级</p>
</div></div>

<div class="clidesc"><h2 class="sectiontitle">使用指南</h2>
<div class="clidescbody"><p>这个命令对BGP发布路由有影响。但对于通过<strong>imoprt-route</strong>命令引入的路由，配置了这个命令后，BGP会在引入这些路由之前就进行过滤，只有通过过滤的路由才能加入BGP本地路由表，并被BGP发布。</p>
<p>如果指定<em>protocol</em>参数，将只对引入的这种协议产生的路由进行过滤，对引入的其它协议产生的路由不受影响。如果没有指定<em>protocol</em>参数，对引入的任何一个协议产生的路由都要进行过滤。</p>
</div></div>

<div class="dropdowncollapse"><div class="dropdowntitle" onclick="ExpandorCollapseNode(this)"><a name="filter-policy_export_bgp__d76096e202"></a><a name="d76096e202"></a><h2 class="sectiontitle">使用实例</h2></div>
<div class="dropdowncontext"><div class="cliexamplebody"><p># 使用编号为2000的ACL对所有BGP发布的路由进行过滤。</p>
<pre class="screen">&lt;Quidway&gt; <strong>system-view</strong></pre>
<pre class="screen">[Quidway]<strong> bgp 100</strong></pre>
<pre class="screen">[Quidway-bgp]<strong> ipv4-family unicast</strong></pre>
<pre class="screen">[Quidway-bgp-af-ipv4]<strong> filter-policy 2000 export</strong></pre>
<p># 使用编号为2000的ACL6对所有BGP发布的路由进行过滤。</p>
<pre class="screen">&lt;Quidway&gt;<strong> system-view</strong></pre>
<pre class="screen">[Quidway]<strong> bgp 100</strong></pre>
<pre class="screen">[Quidway-bgp]<strong> ipv6-family unicast</strong></pre>
<pre class="screen">[Quidway-bgp-af-ipv6]<strong> filter-policy 2000 export</strong></pre>
</div></div></div>


</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="../vrp/bgp_configuration_commands.html">BGP配置命令</a></div>
</div>
<div class="relinfo"><strong>相关主题</strong><br>
<div><a href="import-route_bgp.html">import-route</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">华为所有和机密</div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div></body>
</html>